<!DOCTYPE html>
<html lang="hu">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Napid≈ë</title>
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
<script src="/cdn-cgi/apps/head/SSaYB9_3atmGiB-OssOQcKheRog.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Style+Script">
<link rel="stylesheet" href="static/css/main.css">
<link rel="manifest" href="{{ url_for('static', filename='manifest.json') }}">

<link rel="apple-touch-icon" href="static/apple-icon-180.png">

<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="apple-touch-startup-image" href="static/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<link rel="apple-touch-startup-image" href="static/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
<link rel="apple-touch-startup-image" href="static/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)">
<script>
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', function() {
            navigator.serviceWorker.register('/static/service-worker.js')
            .then(function(registration) {
                console.log('Service worker registered successfully');
            })
        .catch(function(err) {
            console.error('Error registering service worker: ', err);
        });
        });
    }

    function updateClock() {
        let now = new Date();
        let hours = now.getHours();
        let minutes = now.getMinutes();
        let formattedMinutes = minutes.toString();
        if (minutes < 10) {
            formattedMinutes = "0" + formattedMinutes;
        }
        let time = hours + ":" + formattedMinutes;
        document.getElementById("clock").textContent = time;
    }
    setInterval(updateClock, 1000);

    let mp = '{{ masodperc }}';
    let perc = '{{ perc }}';
    let ora = '{{ ora }}';
    
    let variable1 = parseInt(mp);
    let variable2 = parseInt(perc);
    let variable3 = parseInt(ora);

    setInterval(() => {
        variable1++;
        if (variable1 === 60) {
        variable1 = 0;
        }
    }, 1000);

    setInterval(() => {
        if (variable1 === 0) {
        variable2++;
        if (variable2 === 60) {
            variable2 = 0;
        }
        }
    }, 1000);

    setInterval(() => {
        if (variable2 === 0 && variable1 === 0) {
        variable3++;
        if (variable3 === 24) {
            variable3 = 0;
        }
        }
    }, 1000);

    setInterval(() => {
        let formattedVariable1 = variable1.toString();
        if (variable1 < 10) {
        formattedVariable1 = "0" + formattedVariable1;
        }
        if (isNaN(variable1)) {
            document.getElementById("variable1").textContent = "--";
            const now = new Date();
            const seconds = now.getSeconds();
            let formattedSeconds = seconds;
            if (seconds < 10) {
                formattedSeconds = "0" + formattedSeconds;
            }
            document.getElementById("variable1Akt").textContent = formattedSeconds;
        } else {
            document.getElementById("variable1").textContent = formattedVariable1;
            document.getElementById("variable1Akt").textContent = formattedVariable1;
        }
    }, 100);

    setInterval(() => {
        let formattedVariable2 = variable2.toString();
        if (variable2 < 10) {
        formattedVariable2 = "0" + formattedVariable2;
        }
        if (isNaN(variable2)) {
            document.getElementById("variable2").textContent = "--";
            document.getElementById("variable2Mod").textContent = "--";
        } else {
        document.getElementById("variable2").textContent = formattedVariable2;
        document.getElementById("variable2Mod").textContent = formattedVariable2;
        }
    }, 100);

    setInterval(() => {
        if (isNaN(variable3)) {
            document.getElementById("variable3").textContent = "--";
            document.getElementById("variable3Mod").textContent = "--";
        } else {
            document.getElementById("variable3").textContent = variable3;
            document.getElementById("variable3Mod").textContent = variable3;
        }
    }, 100);
</script>
</head>
<body onload="updateClock">
    <main>
    <h1 class="text-center">Napid≈ë</h1>
     <div class="text-center">
        <form autocomplete="off" method="POST" action="/varosadat">
            <input type="text" id="inp" name="inp" placeholder="Telep√ºl√©s vagy v√°rosr√©sz neve">
            <br><br>
            <div id="mobileBreak"></div>
            <div class="address-list-outer">
                <div id="address-list"></div>
            </div>
            <script>
                const apiKey = '2ed27eaf716d4ed2be37d3f54b09c628'; // helyettes√≠tsd az API kulcsoddal
                const input = document.querySelector('#inp');
                const list = document.querySelector('#address-list');
                const mobileBreak = document.getElementById('mobileBreak');

                input.addEventListener('input', () => {
                    const query = input.value;
                    list.innerHTML = '';
                    if (query.length > 2) { // csak akkor hajtunk v√©gre keres√©st, ha a lek√©rdez√©s legal√°bb 3 karakter hossz√∫
                    axios.get(`https://api.geoapify.com/v1/geocode/autocomplete?text=${query}&type=city&apiKey=${apiKey}`)
                        .then((response) => {
                        const results = response.data.features.slice(0, 3); // csak az els≈ë 3 tal√°latot jelen√≠tj√ºk meg
                        if (results.length > 0) {
                            list.style.display = 'block'; // megjelen√≠tj√ºk a list√°t
                            mobileBreak.style.display = 'block';
                            results.forEach((result) => {
                            const li = document.createElement('li');
                            li.innerText = result.properties.formatted;
                            li.addEventListener('click', () => {
                                input.value = result.properties.formatted;
                                list.style.display = 'none'; // elrejtj√ºk a list√°t
                                mobileBreak.style.display = 'none';
                            });
                            list.appendChild(li);
                            });
                        } else {
                            list.style.display = 'none'; // ha nincs tal√°lat, elrejtj√ºk a list√°t
                            mobileBreak.style.display = 'none';
                        }
                        })
                        .catch((error) => {
                    console.error(error);
                    });
                    } else {
                    list.style.display = 'none'; // ha a lek√©rdez√©s nem el√©g hossz√∫, elrejtj√ºk a list√°t
                    mobileBreak.style.display = 'none';
                    }
                });

                // bez√°rjuk a list√°t, ha a felhaszn√°l√≥ kattint az oldalon k√≠v√ºlre
                document.addEventListener('click', (event) => {
                    if (!list.contains(event.target)) {
                    list.style.display = 'none';
                    mobileBreak.style.display = 'none';
                    }
                });
            </script>            
            <input class="btn btn-secondary" type="submit" value="Lek√©rdez√©s">
        </form> 
    </div>
    <div style="height: 85px"></div>
    <div class="container text-center">
	<h1 class="suntime"><strong><b><span id="variable3"></span>:<span id="variable2"></span></strong></b></h1>
	<p>
		<i>
			<b>{{ varos }}</b>
			<br>
			√âszaki sz√©less√©g: <b>{{ szel }}</b> 
			<br>
			Nyugati hossz√∫s√°g: <b>{{ hossz }}</b>
                        <br>
			Az aktu√°lis id≈ë: <b><span id="clock"></span>:<span id="variable1Akt"></span></b>
		</i>
	</p>
    </div>
    <div style="height: 85px"></div>    
    <div class="text-center">
        <h3>Tov√°bbi sz√°m√≠t√°sok</h3>
        <p>A m√≥dosult napid≈ë: <b><span id="variable3Mod"></span>:<span id="variable2Mod"></span>:<span id="variable1"></span></b></p>
        <p>A delel√©si id≈ë: <b>{{ del_ido }}</b></p>
        <p>A delel√©si magass√°g: <b>{{ del_mag }}</b></p>
        <p>A d√°tum sorsz√°ma: <b>{{ sorszam }}</b></p>
        <p>A napfelkelte: <b>{{ napfelkelte }}</b></p>
        <p>A napnyugta: <b>{{ napnyugta }}</b></p>
        <p>A nap hossza: <b>{{ nap_hossz }}</b></p>    
    </div>
     <button id="info-button">i</button>

  <div id="info-box">
    <div id="info-content">
      <div>
        <b class="info-box-heading">Suntime - Napid≈ë<br>v0.3.5</b>
        <br>
        <b class="info-box-subheading-desc">(Fejlesztette: dr. Stonawski Tam√°s √©s Stonawski Benjamin)</b>
        <br>
        <br>
        <br>
        <p class="info-box-desc">A Napid≈ë alkalmaz√°s megmondja, hogy a nap jelenlegi √°ll√°sa szerint, t√∂bb sz√°m√≠t√°st v√©grehajtva mennyi a val√≥s id≈ë. Ha egy nap√≥r√°t megn√©z√ºnk az √°ltalunk be√≠rt telep√ºl√©sen, ezt az id≈ët olvasn√°nk le, hiszen a k√∂z√∂ns√©ges, aktu√°lis id≈ë orsz√°ghat√°rokt√≥l f√ºgg≈ëen z√≥naid≈ët haszn√°l, ez pedig a nap √°ll√°s√°nak elv√©t.</p>
        <br>
        <b class="info-box-desc">Az alkalmaz√°s jelenleg b√©ta verzi√≥j√∫, √©s fejleszt√©s alatt √°ll, √≠gy el≈ëfordulhatnak probl√©m√°k. Jelenleg van egy probl√©ma, aminek a jav√≠t√°s√°n dolgozunk, m√©gpedig az, hogy ne csak magyar v√°rosokkal m≈±k√∂dj√∂n megfelel≈ëen a program.</b>
        <br>
        <a href="static/changelog.html">V√°ltoz√°si napl√≥ megtekint√©se</a>
        <br>
        <br>
        <br>
        <b class="info-box-subheading">Hogyan tudom megn√©zni, hogy mennyi a napid≈ë?</b>
        <br>
        <br>
        <p class="info-box-desc">A ‚ÄúTelep√ºl√©s vagy v√°rosr√©sz neve‚Äù mez≈ëbe √≠rhatod be a telep√ºl√©s nev√©t, aminek meg szeretn√©d n√©zni a napidej√©t. Nagyobb v√°rosok eset√©n aj√°nljuk, hogy ne a v√°ros nev√©t, hanem a v√°rosr√©szt √≠rd be (p√©ld√°ul Budapest helyett √ìbuda, Ny√≠regyh√°za helyett √ñr√∂k√∂sf√∂ld, M√°t√©szalka helyett Fellegv√°r, stb.), hiszen k√ºl√∂nb√∂z≈ë v√°rosr√©szek k√∂z√∂tt is elt√©rhet a napid≈ë! Ha nem v√°rosr√©szt √≠rsz be, hanem csak telep√ºl√©snevet, akkor az alkalmaz√°s a telep√ºl√©s f√∂ldrajzi k√∂z√©ppontj√°n√°l fogja elv√©gezni a sz√°m√≠t√°sokat. Nem musz√°j a teljes nevet be√≠rni, hiszen ha elkezded beg√©pelni azt, az alkalmaz√°s feldobja a lehets√©ges telep√ºl√©s- √©s v√°rosneveket, amelyek k√∂z√ºl v√°laszthatsz.</p>
        <br>
        <br>
        <br>
        <b class="info-box-subheading">Tud-e m√©g valamit ezen k√≠v≈±l?</b>
        <br>
        <br>
        <p class="info-box-desc">A napid≈ën k√≠v≈±l az alkalmaz√°s kisz√°m√≠tja a telep√ºl√©sen a nap delel√©si idej√©t, √©s delel√©si magass√°g√°t (sz√∂g√©t) is. Ezek mellett l√°thatod m√©g a jelenlegi d√°tum sorsz√°m√°t, √©s hogy mennyi az aktu√°lis z√≥naid≈ë, annak √©rdek√©ben, hogy k√∂nnyen √∂sszehasonl√≠thasd a nap- √©s z√≥naid≈ë k√∂zti k√ºl√∂nbs√©get, valamint a napfelkelt√©t, a napnyugt√°t √©s a nap hossz√°t is k√©pes prec√≠zen √©s pontosan kisz√°molni.</p>
        <br>
        <br>
        <br>
        <b class="info-box-subheading">Le tudom t√∂lteni valahol alkalmaz√°sk√©nt?</b>
        <br>
        <br>
        <p class="info-box-desc">Term√©szetesen, hiszen ez egy PWA (progressz√≠v webalkalmaz√°s), amit k√∂nnyen let√∂lthetsz telefonodra. Az oldal megoszt√°sa gombra koppintva hozz√°adhatod a f≈ëk√©perny≈ëh√∂z az alkalmaz√°st.</p>
        <br>
        <br>
        <br>
        <b class="info-box-subheading">Hogyan m≈±k√∂dik mindez?</b>
        <br>
        <br>
        <p class="info-box-desc">A Napid≈ë alkalmaz√°s a Python nyelvet √©s a Flask keretrendszert kombin√°lva sz√°m√≠tja ki az √°ltalad megadott telep√ºl√©s napidej√©t, majd a megjelen√≠t√©shez, √©s az id≈ë friss√≠t√©s√©hez JavaScript nyelvet haszn√°l.</p>
        <br>
        <br>
        <a href="static/aszf.html">Adatv√©delmi nyilatkozat (√ÅSZF)</a>
      </div>
      <button id="close-button">X</button>
    </div>
  </div>
  <div id="info-box-background"></div>
    </main>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="static/js/infobox.js"></script>
</html>
